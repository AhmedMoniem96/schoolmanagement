<odoo>
  <data>

    <!-- Configuration under your School Management app -->
    <menuitem id="menu_school_config"
              name="Configuration"
              parent="menu_schoolmanagement"
              sequence="50"/>

    <!-- Products: parent-only (no action) to behave like a folder in the same dropdown -->
    <menuitem id="menu_school_products_root"
              name="Products"
              parent="menu_school_config"
              sequence="10"/>

    <!-- Leaves (with actions) appear directly under Products -->
    <record id="action_school_all_products" model="ir.actions.act_window">
      <field name="name">All Products</field>
      <field name="res_model">product.product</field>
      <field name="view_mode">list,form,kanban</field>
      <field name="context">{}</field>
      <field name="domain">[]</field>
    </record>
    <menuitem id="menu_school_products_all"
              name="All Products"
              parent="menu_school_products_root"
              action="action_school_all_products"
              sequence="1"/>

    <record id="action_school_supplies" model="ir.actions.act_window">
      <field name="name">Supplies</field>
      <field name="res_model">product.product</field>
      <field name="view_mode">list,form,kanban</field>
      <field name="context">{'search_default_school_supplies': 1}</field>
      <field name="domain">[('school_item_type','=','supplies')]</field>
    </record>
    <menuitem id="menu_school_products_supplies"
              name="Supplies"
              parent="menu_school_products_root"
              action="action_school_supplies"
              sequence="2"/>

    <record id="action_school_uniform" model="ir.actions.act_window">
      <field name="name">Uniform</field>
      <field name="res_model">product.product</field>
      <field name="view_mode">list,form,kanban</field>
      <field name="context">{'search_default_school_uniform': 1}</field>
      <field name="domain">[('school_item_type','=','uniform')]</field>
    </record>
    <menuitem id="menu_school_products_uniform"
              name="Uniform"
              parent="menu_school_products_root"
              action="action_school_uniform"
              sequence="3"/>

    <!-- Books: parent-only (no action), expands *inside the same dropdown* -->
    <menuitem id="menu_school_products_books_root"
              name="Books"
              parent="menu_school_products_root"
              sequence="10"/>

    <!-- Book levels as children of Books -->
    <record id="action_school_books_level1" model="ir.actions.act_window">
      <field name="name">Book Level 1</field>
      <field name="res_model">product.product</field>
      <field name="view_mode">list,form,kanban</field>
      <field name="context">{'search_default_school_books': 1, 'search_default_book_level_1': 1}</field>
      <field name="domain">[('school_item_type','=','book'), ('book_level','=','level_1')]</field>
    </record>
    <menuitem id="menu_school_products_books_l1"
              name="Book Level 1"
              parent="menu_school_products_books_root"
              action="action_school_books_level1"
              sequence="11"/>

    <record id="action_school_books_level2" model="ir.actions.act_window">
      <field name="name">Book Level 2</field>
      <field name="res_model">product.product</field>
      <field name="view_mode">list,form,kanban</field>
      <field name="context">{'search_default_school_books': 1, 'search_default_book_level_2': 1}</field>
      <field name="domain">[('school_item_type','=','book'), ('book_level','=','level_2')]</field>
    </record>
    <menuitem id="menu_school_products_books_l2"
              name="Book Level 2"
              parent="menu_school_products_books_root"
              action="action_school_books_level2"
              sequence="12"/>

  </data>
</odoo>
